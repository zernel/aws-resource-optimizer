# AWS Configuration
aws:
  regions:
    - us-east-1
    - us-west-2
  profile: default
  # Optional: Assume role for cross-account access
  assume_role_arn: ""

# Reserved Instance Analysis Configuration
ri_analysis:
  # Look back period for usage analysis (in days)
  lookback_days: 30
  # Regions to analyze (uses aws.regions if not specified)
  regions:
    - us-east-1
    - us-west-2
  # AWS configuration for the analyzer
  aws:
    profile: default

# Notification Configuration
notifications:
  mattermost:
    webhook_url: "https://chat.example.com/hooks/your-webhook-id"
    channel: "aws-cost-optimization"
    username: "AWS Resource Optimizer"
    icon_emoji: ":money_with_wings:"
    # Enable/disable notifications
    enabled: true
    # Additional information for the notification
    additional_info: "For more details, please see the full report: https://wiki.example.com/aws/ri-reports"
    title: "### DevOps Notification\n\n"

# Reporting Configuration
reporting:
  # Output formats: csv, html, json
  formats:
    - csv
    - html
  # Directory to store reports (relative to project root)
  output_dir: "reports"

# Prometheus System Inspection Configuration
prometheus_inspection:
  # Option 1: Direct URL to Prometheus server
  prometheus_url: "http://localhost:9090"
  
  # Option 2: Docker container name (will auto-detect IP)
  # container_name: "prometheus"
  
  # OpenAI Configuration
  openai_api_key: "sk-your-openai-api-key"
  model: "gpt-4o"  # or "gpt-4", "gpt-3.5-turbo"
  
  # Custom Prometheus queries (optional)
  # If not specified, default queries will be used (7-day analysis window)
  queries:
    cpu_usage: 'avg by (instance) (1 - rate(node_cpu_seconds_total{mode="idle"}[7d])) * 100'
    mem_usage: 'max by (instance) (1 - (node_memory_MemAvailable_bytes / node_memory_MemTotal_bytes)) * 100'
    disk_free: 'min by (instance, mountpoint) (node_filesystem_avail_bytes{fstype=~"ext4|xfs"} / node_filesystem_size_bytes{fstype=~"ext4|xfs"}) * 100'
  
  # Thresholds for warnings
  thresholds:
    cpu_warning: 80     # CPU usage percentage
    mem_warning: 90     # Memory usage percentage
    disk_warning: 15    # Disk free space percentage
